<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="utf-8">
    <title>Actors</title>
    <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.6/build/pure-min.css" crossorigin="anonymous">
    <!-- <script src="javascripts/javascript.js"></script> -->
    <style>

      main, header, footer {
        padding: 1em;
        box-sizing: border-box;
      }

      header, footer {
        text-align: center;
      }

    </style>
  </head>
  <body onload="loadPage()">
    <header><h1>Actors!</h1></header>

    <main class="pure-g">

      <div class="pure-u-2-3">

        <table class="pure-table pure-table-horizontal">
          <thead>
              <tr>
                  <th>First Name</th>
                  <th>Last Name</th>
              </tr>
          </thead>
          <tbody>
              <tr>
                  <td>Some</td>
                  <td>Actor</td>
              </tr>
          </tbody>
        </table>

      </div>

      <aside class="pure-u-1-3">
        <form class="pure-form pure-form-stacked">
          <fieldset>
              <legend>Add Actor</legend>
              <label for="actor-first-name">First Name</label>
              <input type="text" id="actor-first-name" placeholder="First/Given Name" />
              <label for="actor-last-name">Last Name</label>
              <input type="text" id="actor-last-name" placeholder="First/Family Name" />
              <button type="button" class="pure-button pure-button-primary">Add</button>
          </fieldset>
        </form>
      </aside>

    </main>
    <scirpt>
      function loadPage() {

        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {

             var actors =JSON.parse(this.responseText);
             var table = document.getElementsByTagName("tbody");

            console.log(actors[0].last_name)

            for (let item in actors){
                // console.log(item.first_name);
                // console.log(item.last_name);

                var row = document.createElement("tr");
                var cell1 = document.createElement("td");
                cell1.innerText = item.first_name;
                row.appendChild(cell1);
                var cell2 = document.createElement("td");
                cell2.innerText = item.last_name;
                row.appendChild(cell2);
                table[0].appendChild(row);
            }
        }
        xhttp.open("GET", "/getActors", true);
        xhttp.send();
      }
    }




    </script>

    <footer>&copy; 2021 WDC</footer>
  </body>
</html>
